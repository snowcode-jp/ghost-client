<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>APIè¨­å®š - Ghost Security Monitor</title>
    <link rel="stylesheet" href="css/style.css">
    <style>
        .api-card {
            background: var(--card-bg);
            border: 1px solid var(--border-color);
            border-radius: 12px;
            padding: 24px;
            margin-bottom: 20px;
        }

        .api-card.free {
            border-left: 4px solid #22c55e;
        }

        .api-card.optional {
            border-left: 4px solid #f59e0b;
        }

        .api-card-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 16px;
        }

        .api-card-title {
            font-size: 1.25rem;
            font-weight: 600;
            color: var(--text-primary);
            margin: 0;
        }

        .api-badge {
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 0.75rem;
            font-weight: 500;
        }

        .api-badge.free {
            background: rgba(34, 197, 94, 0.1);
            color: #22c55e;
        }

        .api-badge.optional {
            background: rgba(245, 158, 11, 0.1);
            color: #f59e0b;
        }

        .api-badge.configured {
            background: rgba(59, 130, 246, 0.1);
            color: #3b82f6;
        }

        .api-description {
            color: var(--text-secondary);
            margin-bottom: 16px;
            line-height: 1.6;
        }

        .api-features {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 8px;
            margin-bottom: 16px;
        }

        .api-feature {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 0.875rem;
            color: var(--text-secondary);
        }

        .api-feature::before {
            content: "âœ“";
            color: #22c55e;
            font-weight: bold;
        }

        .api-limits {
            background: rgba(0, 0, 0, 0.2);
            padding: 16px;
            border-radius: 8px;
            margin-bottom: 16px;
        }

        .api-limits-title {
            font-weight: 600;
            margin-bottom: 8px;
            color: var(--text-primary);
        }

        .api-limits-list {
            list-style: none;
            padding: 0;
            margin: 0;
        }

        .api-limits-list li {
            padding: 4px 0;
            color: var(--text-secondary);
            font-size: 0.875rem;
        }

        .api-tips {
            background: rgba(59, 130, 246, 0.1);
            padding: 16px;
            border-radius: 8px;
            margin-bottom: 16px;
        }

        .api-tips-title {
            font-weight: 600;
            margin-bottom: 8px;
            color: #3b82f6;
        }

        .api-tips-list {
            list-style: none;
            padding: 0;
            margin: 0;
        }

        .api-tips-list li {
            padding: 4px 0;
            color: var(--text-secondary);
            font-size: 0.875rem;
        }

        .api-tips-list li::before {
            content: "ğŸ’¡ ";
        }

        .api-key-form {
            margin-top: 16px;
        }

        .api-key-input-group {
            display: flex;
            gap: 12px;
            margin-bottom: 12px;
        }

        .api-key-input {
            flex: 1;
            padding: 12px 16px;
            background: rgba(0, 0, 0, 0.3);
            border: 1px solid var(--border-color);
            border-radius: 8px;
            color: var(--text-primary);
            font-family: monospace;
        }

        .api-key-input:focus {
            outline: none;
            border-color: #3b82f6;
        }

        .api-key-input::placeholder {
            color: var(--text-tertiary);
        }

        .btn-save {
            padding: 12px 24px;
            background: #3b82f6;
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 500;
            transition: background 0.2s;
        }

        .btn-save:hover {
            background: #2563eb;
        }

        .btn-save:disabled {
            background: #6b7280;
            cursor: not-allowed;
        }

        .btn-register {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            padding: 10px 20px;
            background: transparent;
            border: 1px solid var(--border-color);
            border-radius: 8px;
            color: var(--text-primary);
            text-decoration: none;
            font-size: 0.875rem;
            transition: all 0.2s;
        }

        .btn-register:hover {
            background: rgba(255, 255, 255, 0.05);
            border-color: #3b82f6;
        }

        .usage-meter {
            margin-top: 16px;
        }

        .usage-meter-header {
            display: flex;
            justify-content: space-between;
            margin-bottom: 8px;
            font-size: 0.875rem;
        }

        .usage-meter-label {
            color: var(--text-secondary);
        }

        .usage-meter-value {
            color: var(--text-primary);
            font-weight: 500;
        }

        .usage-meter-bar {
            height: 8px;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 4px;
            overflow: hidden;
        }

        .usage-meter-fill {
            height: 100%;
            border-radius: 4px;
            transition: width 0.3s;
        }

        .usage-meter-fill.safe {
            background: #22c55e;
        }

        .usage-meter-fill.warning {
            background: #f59e0b;
        }

        .usage-meter-fill.danger {
            background: #ef4444;
        }

        .section-title {
            font-size: 1.5rem;
            font-weight: 600;
            margin-bottom: 24px;
            color: var(--text-primary);
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .section-title .icon {
            font-size: 1.25rem;
        }

        .config-summary {
            background: var(--card-bg);
            border: 1px solid var(--border-color);
            border-radius: 12px;
            padding: 24px;
            margin-bottom: 32px;
        }

        .summary-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 24px;
        }

        .summary-item {
            text-align: center;
        }

        .summary-value {
            font-size: 2rem;
            font-weight: 700;
            color: var(--text-primary);
        }

        .summary-label {
            font-size: 0.875rem;
            color: var(--text-secondary);
            margin-top: 4px;
        }

        .env-vars-example {
            background: #1e1e1e;
            border-radius: 8px;
            padding: 16px;
            margin-top: 24px;
            overflow-x: auto;
        }

        .env-vars-title {
            color: #888;
            font-size: 0.875rem;
            margin-bottom: 12px;
        }

        .env-vars-code {
            font-family: 'SF Mono', Monaco, monospace;
            font-size: 0.875rem;
            color: #e0e0e0;
            line-height: 1.6;
        }

        .env-vars-code .comment {
            color: #6a9955;
        }

        .env-vars-code .key {
            color: #9cdcfe;
        }

        .env-vars-code .value {
            color: #ce9178;
        }
    </style>
</head>
<body>
    <div class="dashboard">
        <!-- ã‚µã‚¤ãƒ‰ãƒãƒ¼ -->
        <nav class="sidebar">
            <div class="logo">
                <span class="logo-icon">ğŸ‘»</span>
                <span class="logo-text">Ghost</span>
            </div>
            <ul class="nav-menu">
                <li class="nav-item">
                    <a href="index.html" class="nav-link">
                        <span class="nav-icon">ğŸ“Š</span>
                        <span>ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="alerts.html" class="nav-link">
                        <span class="nav-icon">ğŸš¨</span>
                        <span>ã‚¢ãƒ©ãƒ¼ãƒˆ</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="crypto.html" class="nav-link">
                        <span class="nav-icon">ğŸ”</span>
                        <span>æš—å·ç›£æŸ»</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="reports.html" class="nav-link">
                        <span class="nav-icon">ğŸ“</span>
                        <span>ãƒ¬ãƒãƒ¼ãƒˆ</span>
                    </a>
                </li>
                <li class="nav-item active">
                    <a href="api-settings.html" class="nav-link">
                        <span class="nav-icon">ğŸ”§</span>
                        <span>APIè¨­å®š</span>
                    </a>
                </li>
            </ul>
        </nav>

        <!-- ãƒ¡ã‚¤ãƒ³ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ -->
        <main class="main-content">
            <header class="header">
                <h1>APIè¨­å®š</h1>
                <p class="subtitle">è„…å¨ã‚¤ãƒ³ãƒ†ãƒªã‚¸ã‚§ãƒ³ã‚¹APIã®è¨­å®šã¨ä½¿ç”¨çŠ¶æ³</p>
            </header>

            <!-- è¨­å®šã‚µãƒãƒªãƒ¼ -->
            <div class="config-summary">
                <div class="summary-grid">
                    <div class="summary-item">
                        <div class="summary-value" id="total-apis">4</div>
                        <div class="summary-label">åˆ©ç”¨å¯èƒ½ãªAPI</div>
                    </div>
                    <div class="summary-item">
                        <div class="summary-value" style="color: #22c55e;" id="free-apis">2</div>
                        <div class="summary-label">ç„¡æ–™ã§ä½¿ãˆã‚‹API</div>
                    </div>
                    <div class="summary-item">
                        <div class="summary-value" style="color: #3b82f6;" id="configured-apis">0</div>
                        <div class="summary-label">è¨­å®šæ¸ˆã¿API</div>
                    </div>
                </div>
            </div>

            <!-- ç„¡æ–™APIã‚»ã‚¯ã‚·ãƒ§ãƒ³ -->
            <section class="section">
                <h2 class="section-title">
                    <span class="icon">ğŸ†“</span>
                    ç„¡æ–™ã§ä½¿ãˆã‚‹APIï¼ˆAPIã‚­ãƒ¼ä¸è¦ãƒ»ç„¡åˆ¶é™ï¼‰
                </h2>

                <!-- NVD -->
                <div class="api-card free">
                    <div class="api-card-header">
                        <div>
                            <h3 class="api-card-title">NVD (National Vulnerability Database)</h3>
                            <p class="api-description">
                                ç±³å›½å›½ç«‹æ¨™æº–æŠ€è¡“ç ”ç©¶æ‰€ï¼ˆNISTï¼‰ãŒé‹å–¶ã™ã‚‹CVEè„†å¼±æ€§ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã€‚
                                ä¸–ç•Œã§æœ€ã‚‚åŒ…æ‹¬çš„ãªè„†å¼±æ€§æƒ…å ±æºã§ã™ã€‚
                            </p>
                        </div>
                        <span class="api-badge free">ç„¡æ–™ãƒ»ç„¡åˆ¶é™</span>
                    </div>
                    <div class="api-features">
                        <div class="api-feature">CVE IDã«ã‚ˆã‚‹è„†å¼±æ€§æ¤œç´¢</div>
                        <div class="api-feature">ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰æ¤œç´¢</div>
                        <div class="api-feature">è£½å“åãƒ»ãƒ™ãƒ³ãƒ€ãƒ¼åã§ã®æ¤œç´¢</div>
                        <div class="api-feature">CVSSã‚¹ã‚³ã‚¢ã«ã‚ˆã‚‹æ·±åˆ»åº¦è©•ä¾¡</div>
                        <div class="api-feature">æœ€æ–°ã®è„†å¼±æ€§æƒ…å ±å–å¾—</div>
                    </div>
                    <a href="https://nvd.nist.gov/" target="_blank" class="btn-register">
                        <span>ğŸŒ</span> å…¬å¼ã‚µã‚¤ãƒˆã‚’é–‹ã
                    </a>
                </div>

                <!-- OSV.dev -->
                <div class="api-card free">
                    <div class="api-card-header">
                        <div>
                            <h3 class="api-card-title">OSV.dev (Open Source Vulnerabilities)</h3>
                            <p class="api-description">
                                GoogleãŒé‹å–¶ã™ã‚‹ã‚ªãƒ¼ãƒ—ãƒ³ã‚½ãƒ¼ã‚¹è„†å¼±æ€§ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã€‚
                                npm, PyPI, crates.io, Go ãªã©ä¸»è¦ãªã‚¨ã‚³ã‚·ã‚¹ãƒ†ãƒ ã®è„†å¼±æ€§æƒ…å ±ã‚’ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã§æä¾›ã—ã¾ã™ã€‚
                            </p>
                        </div>
                        <span class="api-badge free">ç„¡æ–™ãƒ»ç„¡åˆ¶é™</span>
                    </div>
                    <div class="api-features">
                        <div class="api-feature">ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸åãƒ»ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã«ã‚ˆã‚‹è„†å¼±æ€§æ¤œç´¢</div>
                        <div class="api-feature">npm, PyPI, crates.io, Go å¯¾å¿œ</div>
                        <div class="api-feature">GitHub Advisory ã¨é€£æº</div>
                        <div class="api-feature">Linux, Debian, Ubuntu ã®OSè„†å¼±æ€§å¯¾å¿œ</div>
                        <div class="api-feature">ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æ›´æ–°</div>
                    </div>
                    <a href="https://osv.dev/" target="_blank" class="btn-register">
                        <span>ğŸŒ</span> å…¬å¼ã‚µã‚¤ãƒˆã‚’é–‹ã
                    </a>
                </div>
            </section>

            <!-- ã‚ªãƒ—ã‚·ãƒ§ãƒ³APIã‚»ã‚¯ã‚·ãƒ§ãƒ³ -->
            <section class="section">
                <h2 class="section-title">
                    <span class="icon">ğŸ”‘</span>
                    ã‚ªãƒ—ã‚·ãƒ§ãƒ³APIï¼ˆç„¡æ–™æ ã‚ã‚Šãƒ»ãƒ¦ãƒ¼ã‚¶ãƒ¼ç™»éŒ²ãŒå¿…è¦ï¼‰
                </h2>

                <!-- AbuseIPDB -->
                <div class="api-card optional">
                    <div class="api-card-header">
                        <div>
                            <h3 class="api-card-title">AbuseIPDB</h3>
                            <p class="api-description">
                                æ‚ªæ„ã®ã‚ã‚‹IPã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’æ¤œå‡ºã™ã‚‹ãŸã‚ã®ã‚µãƒ¼ãƒ“ã‚¹ã€‚
                                ä¸æ­£ã‚¢ã‚¯ã‚»ã‚¹ã€ãƒ–ãƒ«ãƒ¼ãƒˆãƒ•ã‚©ãƒ¼ã‚¹æ”»æ’ƒã€ã‚¹ãƒ‘ãƒ ãªã©ã®å ±å‘Šã‚’å…ƒã«ã€IPã®ä¿¡é ¼æ€§ã‚’è©•ä¾¡ã—ã¾ã™ã€‚
                            </p>
                        </div>
                        <div>
                            <span class="api-badge optional">ç„¡æ–™æ ã‚ã‚Š</span>
                            <span class="api-badge configured" id="abuseipdb-status" style="display: none;">è¨­å®šæ¸ˆã¿</span>
                        </div>
                    </div>

                    <div class="api-features">
                        <div class="api-feature">IPã‚¢ãƒ‰ãƒ¬ã‚¹ã®æ‚ªç”¨ã‚¹ã‚³ã‚¢ç¢ºèª</div>
                        <div class="api-feature">å›½ãƒ»ISPæƒ…å ±ã®å–å¾—</div>
                        <div class="api-feature">éå»90æ—¥é–“ã®å ±å‘Šå±¥æ­´</div>
                        <div class="api-feature">æ”»æ’ƒã‚¿ã‚¤ãƒ—ã®åˆ†é¡</div>
                    </div>

                    <div class="api-limits">
                        <div class="api-limits-title">ğŸ“Š ç„¡æ–™ãƒ—ãƒ©ãƒ³ã®åˆ¶é™</div>
                        <ul class="api-limits-list">
                            <li>âœ… 1æ—¥1,000ãƒªã‚¯ã‚¨ã‚¹ãƒˆã¾ã§ï¼ˆ1æ™‚é–“ã‚ãŸã‚Šç´„41ä»¶ï¼‰</li>
                            <li>âœ… å€‹äººåˆ©ç”¨ã«ã¯ååˆ†ãªé‡</li>
                            <li>âŒ ä¸€æ‹¬ãƒã‚§ãƒƒã‚¯ã¯ä¸å¯</li>
                        </ul>
                    </div>

                    <div class="api-tips">
                        <div class="api-tips-title">åŠ¹ç‡çš„ãªä½¿ã„æ–¹</div>
                        <ul class="api-tips-list">
                            <li>é‡è¦ãªIPã®ã¿ã‚’ãƒã‚§ãƒƒã‚¯ã™ã‚‹ã“ã¨ã§ç„¡æ–™æ å†…ã§ååˆ†é‹ç”¨å¯èƒ½</li>
                            <li>ãƒ­ã‚°ã‚¤ãƒ³ã«å¤±æ•—ã—ãŸIPã‚’å„ªå…ˆçš„ã«ãƒã‚§ãƒƒã‚¯</li>
                            <li>ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚’æ´»ç”¨ã—ã¦åŒã˜IPã®é‡è¤‡ãƒã‚§ãƒƒã‚¯ã‚’é¿ã‘ã‚‹</li>
                        </ul>
                    </div>

                    <div class="api-key-form">
                        <div class="api-key-input-group">
                            <input type="password" class="api-key-input" id="abuseipdb-key"
                                   placeholder="APIã‚­ãƒ¼ã‚’å…¥åŠ›ï¼ˆä¾‹: a1b2c3d4e5f6...ï¼‰">
                            <button class="btn-save" onclick="saveApiKey('abuseipdb')">ä¿å­˜</button>
                        </div>
                        <a href="https://www.abuseipdb.com/register" target="_blank" class="btn-register">
                            <span>ğŸ“</span> ç„¡æ–™ã‚¢ã‚«ã‚¦ãƒ³ãƒˆç™»éŒ²ï¼ˆAPIã‚­ãƒ¼å–å¾—ï¼‰
                        </a>
                    </div>

                    <div class="usage-meter" id="abuseipdb-usage" style="display: none;">
                        <div class="usage-meter-header">
                            <span class="usage-meter-label">æœ¬æ—¥ã®ä½¿ç”¨é‡</span>
                            <span class="usage-meter-value"><span id="abuseipdb-used">0</span> / 1,000</span>
                        </div>
                        <div class="usage-meter-bar">
                            <div class="usage-meter-fill safe" id="abuseipdb-fill" style="width: 0%"></div>
                        </div>
                    </div>
                </div>

                <!-- VirusTotal -->
                <div class="api-card optional">
                    <div class="api-card-header">
                        <div>
                            <h3 class="api-card-title">VirusTotal</h3>
                            <p class="api-description">
                                70ä»¥ä¸Šã®ã‚¢ãƒ³ãƒã‚¦ã‚¤ãƒ«ã‚¹ã‚¨ãƒ³ã‚¸ãƒ³ã§ãƒ•ã‚¡ã‚¤ãƒ«ã€URLã€IPã€ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚’ã‚¹ã‚­ãƒ£ãƒ³ã€‚
                                ãƒãƒ«ã‚¦ã‚§ã‚¢ã®æ¤œå‡ºã«æœ€ã‚‚ä¿¡é ¼æ€§ã®é«˜ã„ã‚µãƒ¼ãƒ“ã‚¹ã§ã™ã€‚
                            </p>
                        </div>
                        <div>
                            <span class="api-badge optional">ç„¡æ–™æ ã‚ã‚Š</span>
                            <span class="api-badge configured" id="virustotal-status" style="display: none;">è¨­å®šæ¸ˆã¿</span>
                        </div>
                    </div>

                    <div class="api-features">
                        <div class="api-feature">70ä»¥ä¸Šã®ã‚¢ãƒ³ãƒã‚¦ã‚¤ãƒ«ã‚¹ã‚¨ãƒ³ã‚¸ãƒ³ã§ã‚¹ã‚­ãƒ£ãƒ³</div>
                        <div class="api-feature">ãƒ•ã‚¡ã‚¤ãƒ«ãƒãƒƒã‚·ãƒ¥ã€URLã€IPã€ãƒ‰ãƒ¡ã‚¤ãƒ³ã®åˆ†æ</div>
                        <div class="api-feature">è©³ç´°ãªæ¤œå‡ºçµæœã¨ãƒ¬ãƒãƒ¼ãƒˆ</div>
                        <div class="api-feature">ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£ã‚³ãƒ¡ãƒ³ãƒˆ</div>
                    </div>

                    <div class="api-limits">
                        <div class="api-limits-title">ğŸ“Š ç„¡æ–™ãƒ—ãƒ©ãƒ³ã®åˆ¶é™</div>
                        <ul class="api-limits-list">
                            <li>âœ… 1æ—¥500ãƒªã‚¯ã‚¨ã‚¹ãƒˆã¾ã§ï¼ˆ1æ™‚é–“ã‚ãŸã‚Šç´„20ä»¶ï¼‰</li>
                            <li>âœ… 1åˆ†4ãƒªã‚¯ã‚¨ã‚¹ãƒˆã¾ã§ï¼ˆ15ç§’ã«1å›ï¼‰</li>
                            <li>âœ… ãƒ•ã‚¡ã‚¤ãƒ«ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã¯32MBã¾ã§</li>
                            <li>âŒ å•†ç”¨åˆ©ç”¨ã«ã¯æœ‰æ–™ãƒ—ãƒ©ãƒ³ãŒå¿…è¦</li>
                        </ul>
                    </div>

                    <div class="api-tips">
                        <div class="api-tips-title">åŠ¹ç‡çš„ãªä½¿ã„æ–¹</div>
                        <ul class="api-tips-list">
                            <li>ç„¡æ–™æ ã§ã¯1åˆ†4ãƒªã‚¯ã‚¨ã‚¹ãƒˆã®åˆ¶é™ãŒã‚ã‚‹ãŸã‚ã€ãƒãƒƒãƒå‡¦ç†ã§ã¯ãªãé‡è¦ãªã‚‚ã®ã®ã¿ã‚’ã‚¹ã‚­ãƒ£ãƒ³</li>
                            <li>åŒã˜ãƒ•ã‚¡ã‚¤ãƒ«/URLã¯çµæœãŒã‚­ãƒ£ãƒƒã‚·ãƒ¥ã•ã‚Œã‚‹ãŸã‚ã€é‡è¤‡ãƒã‚§ãƒƒã‚¯ã‚’é¿ã‘ã‚‹</li>
                            <li>ãƒ•ã‚¡ã‚¤ãƒ«ã¯ãƒãƒƒã‚·ãƒ¥ã§å…ˆã«æ¤œç´¢ã—ã€æ–°è¦ã®å ´åˆã®ã¿ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰</li>
                            <li>å¤œé–“ã®è‡ªå‹•ã‚¹ã‚­ãƒ£ãƒ³ã§æ—¥æ¬¡æ ã‚’æœ‰åŠ¹æ´»ç”¨</li>
                        </ul>
                    </div>

                    <div class="api-key-form">
                        <div class="api-key-input-group">
                            <input type="password" class="api-key-input" id="virustotal-key"
                                   placeholder="APIã‚­ãƒ¼ã‚’å…¥åŠ›ï¼ˆä¾‹: a1b2c3d4e5f6...ï¼‰">
                            <button class="btn-save" onclick="saveApiKey('virustotal')">ä¿å­˜</button>
                        </div>
                        <a href="https://www.virustotal.com/gui/join-us" target="_blank" class="btn-register">
                            <span>ğŸ“</span> ç„¡æ–™ã‚¢ã‚«ã‚¦ãƒ³ãƒˆç™»éŒ²ï¼ˆAPIã‚­ãƒ¼å–å¾—ï¼‰
                        </a>
                    </div>

                    <div class="usage-meter" id="virustotal-usage" style="display: none;">
                        <div class="usage-meter-header">
                            <span class="usage-meter-label">æœ¬æ—¥ã®ä½¿ç”¨é‡</span>
                            <span class="usage-meter-value"><span id="virustotal-used">0</span> / 500</span>
                        </div>
                        <div class="usage-meter-bar">
                            <div class="usage-meter-fill safe" id="virustotal-fill" style="width: 0%"></div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- ç’°å¢ƒå¤‰æ•°ã§ã®è¨­å®š -->
            <section class="section">
                <h2 class="section-title">
                    <span class="icon">ğŸ’»</span>
                    ç’°å¢ƒå¤‰æ•°ã§ã®è¨­å®šï¼ˆã‚µãƒ¼ãƒãƒ¼ç®¡ç†è€…å‘ã‘ï¼‰
                </h2>

                <div class="api-card">
                    <p class="api-description">
                        APIã‚­ãƒ¼ã¯ç’°å¢ƒå¤‰æ•°ã§ã‚‚è¨­å®šã§ãã¾ã™ã€‚ã“ã‚Œã¯ã‚µãƒ¼ãƒãƒ¼ã‚’ç›´æ¥ç®¡ç†ã—ã¦ã„ã‚‹å ´åˆã«æ¨å¥¨ã•ã‚Œã‚‹æ–¹æ³•ã§ã™ã€‚
                    </p>

                    <div class="env-vars-example">
                        <div class="env-vars-title"># ~/.bashrc ã¾ãŸã¯ /etc/environment ã«è¿½åŠ </div>
                        <pre class="env-vars-code"><span class="comment"># ç„¡æ–™APIï¼ˆè¨­å®šä¸è¦ï¼‰</span>
<span class="comment"># NVD ã¨ OSV.dev ã¯ APIã‚­ãƒ¼ä¸è¦ã§ç„¡åˆ¶é™ã«åˆ©ç”¨å¯èƒ½</span>

<span class="comment"># ã‚ªãƒ—ã‚·ãƒ§ãƒ³APIï¼ˆç„¡æ–™æ ã‚ã‚Šï¼‰</span>
<span class="key">export GHOST_ABUSEIPDB_KEY</span>=<span class="value">"your-abuseipdb-api-key"</span>
<span class="key">export GHOST_VIRUSTOTAL_KEY</span>=<span class="value">"your-virustotal-api-key"</span>
</pre>
                    </div>
                </div>
            </section>
        </main>
    </div>

    <script src="js/app.js"></script>
    <script>
        // APIã‚­ãƒ¼ã®ä¿å­˜
        function saveApiKey(apiName) {
            const input = document.getElementById(`${apiName}-key`);
            const key = input.value.trim();

            if (!key) {
                alert('APIã‚­ãƒ¼ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„');
                return;
            }

            // ãƒ­ãƒ¼ã‚«ãƒ«ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã«ä¿å­˜ï¼ˆæœ¬ç•ªç’°å¢ƒã§ã¯ã‚µãƒ¼ãƒãƒ¼ã«é€ä¿¡ï¼‰
            localStorage.setItem(`ghost_${apiName}_key`, key);

            // ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹æ›´æ–°
            document.getElementById(`${apiName}-status`).style.display = 'inline-block';
            document.getElementById(`${apiName}-usage`).style.display = 'block';

            // è¨­å®šæ¸ˆã¿APIæ•°ã‚’æ›´æ–°
            updateConfiguredCount();

            alert(`${apiName.toUpperCase()} ã®APIã‚­ãƒ¼ã‚’ä¿å­˜ã—ã¾ã—ãŸ`);
            input.value = '';
        }

        // è¨­å®šæ¸ˆã¿APIæ•°ã‚’æ›´æ–°
        function updateConfiguredCount() {
            let count = 0;
            if (localStorage.getItem('ghost_abuseipdb_key')) count++;
            if (localStorage.getItem('ghost_virustotal_key')) count++;
            document.getElementById('configured-apis').textContent = count;
        }

        // åˆæœŸåŒ–
        document.addEventListener('DOMContentLoaded', () => {
            // ä¿å­˜æ¸ˆã¿ã‚­ãƒ¼ã®ãƒã‚§ãƒƒã‚¯
            if (localStorage.getItem('ghost_abuseipdb_key')) {
                document.getElementById('abuseipdb-status').style.display = 'inline-block';
                document.getElementById('abuseipdb-usage').style.display = 'block';
            }
            if (localStorage.getItem('ghost_virustotal_key')) {
                document.getElementById('virustotal-status').style.display = 'inline-block';
                document.getElementById('virustotal-usage').style.display = 'block';
            }

            updateConfiguredCount();

            // ä½¿ç”¨é‡ã®å–å¾—ï¼ˆãƒ‡ãƒ¢ç”¨ã®ãƒ€ãƒŸãƒ¼ãƒ‡ãƒ¼ã‚¿ï¼‰
            // æœ¬ç•ªç’°å¢ƒã§ã¯APIã‹ã‚‰å–å¾—
            setTimeout(() => {
                updateUsageMeter('abuseipdb', 150, 1000);
                updateUsageMeter('virustotal', 75, 500);
            }, 500);
        });

        // ä½¿ç”¨é‡ãƒ¡ãƒ¼ã‚¿ãƒ¼ã®æ›´æ–°
        function updateUsageMeter(apiName, used, limit) {
            const usedEl = document.getElementById(`${apiName}-used`);
            const fillEl = document.getElementById(`${apiName}-fill`);

            if (!usedEl || !fillEl) return;

            const percentage = (used / limit) * 100;
            usedEl.textContent = used.toLocaleString();
            fillEl.style.width = `${percentage}%`;

            // è‰²ã®è¨­å®š
            fillEl.classList.remove('safe', 'warning', 'danger');
            if (percentage < 50) {
                fillEl.classList.add('safe');
            } else if (percentage < 80) {
                fillEl.classList.add('warning');
            } else {
                fillEl.classList.add('danger');
            }
        }
    </script>
</body>
</html>
